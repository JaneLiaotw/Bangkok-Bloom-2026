<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Bangkok Itinerary | Transit Ready</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body class="p-3">
    <header class="mb-2 mt-2 px-2 animate-fadeInUp">
        <h2 class="fw-bold" style="letter-spacing: -1.5px;">Bangkok Saga</h2>
        <p class="text-soft small"><i class="fas fa-train me-2"></i>大眾運輸精確導航</p>
    </header>

    <div class="day-scroller mb-4" id="dayPicker"></div>
    <div id="dayContent"></div>

    <nav class="bottom-nav">
        <a href="index.html"><i class="fas fa-house-chimney"></i><span>總覽</span></a>
        <a href="culture.html" class="active"><i class="fas fa-compass"></i><span>行程</span></a>
        <a href="guide.html"><i class="fas fa-feather-pointed"></i><span>指南</span></a>
    </nav>

    <script>
        const itineraryData = {
            1: { title: "抵達與奢華初體驗", weather: "32°C", icon: "fa-sun", outfit: "休閒正裝，適應飯店酒廊", eng: "The Lux Arrival", route: "BKK Airport ➟ InterContinental", target: "InterContinental+Bangkok", dist: "機場接駁", time: "12:10 抵達", desc: "專車接送至飯店。下午享受 37 樓行政酒廊下午茶。飯店旁即是 BTS Chit Lom (E1)。", history: "洲際酒店位於曼谷心臟地帶，是 Ratchaprasong 商圈的門戶。", humor: "酒廊的汽泡酒是克服時差的唯一解藥。", spots: ["37樓行政酒廊", "四面佛參拜", "Central World", "飯店泳池", "Gaysorn Village"] },
            2: { title: "經典古蹟與河畔 (初一)", weather: "31°C", icon: "fa-cloud-sun", outfit: "長裙/長褲 (寺廟嚴禁短褲短裙)", eng: "Heritage Day", route: "BTS + 船 ➟ 大皇宮 ➟ 鄭王廟", target: "The+Grand+Palace", dist: "Transit", time: "08:30 出發", desc: "搭 BTS 到 Saphan Taksin (S6) 2 號出口碼頭，轉乘橘旗船至 N9 碼頭。大皇宮下午可跨河至鄭王廟。", history: "初一早訪大皇宮，體驗曼谷最莊嚴的春節氣氛。", humor: "鄭王廟的樓梯很陡，拍照時請注意您的優雅。", spots: ["玉佛寺", "大皇宮", "鄭王廟河景", "南龍市場熟食", "酒廊晚餐"] },
            3: { title: "飯店轉場與時尚購物", weather: "33°C", icon: "fa-bag-shopping", outfit: "輕便服裝，穿上最帥/美的逛街戰袍", eng: "Shopping & Transition", route: "步行 ➟ Grand Hyatt ➟ Siam", target: "Grand+Hyatt+Erawan+Bangkok", dist: "0.2 km", time: "11:00 轉場", desc: "步行 3 分鐘轉場至君悅。下午搭 BTS 往 Siam 站 (1站路程) 逛 Paragon 商圈。", history: "Erawan Tea Room 的泰式下午茶在曼谷美食圈地位崇高。", humor: "飯店轉場距離極短，連汗都來不及流就到了。", spots: ["Erawan Tea Room", "Siam Paragon", "Siam Center", "君悅 Club Lounge", "四面佛"] },
            4: { title: "在地市場與河畔夜色", weather: "32°C", icon: "fa-shrimp", outfit: "輕裝便服與舒適好走的鞋", eng: "Market & Icon", route: "MRT ➟ 安多哥 ➟ ICONSIAM", target: "ICONSIAM", dist: "Transit", time: "09:30 出發", desc: "MRT Kamphaeng Phet 站 3 號出口直達安多哥。傍晚搭 BTS 到 Krung Thon Buri 站轉金線到 ICONSIAM。", history: "安多哥市場被選為世界最佳生鮮市場，乾淨程度超乎想像。", humor: "在 ICONSIAM 迷路是正常的，請跟著香氛走。", spots: ["安多哥市場水果", "Siam Square 船麵", "ICONSIAM 水舞", "室內水上市場", "高品質點心"] },
            5: { title: "最後採買與賦歸", weather: "31°C", icon: "fa-plane", outfit: "飛機裝 (建議薄外套)", eng: "Last Shopping", route: "步行 ➟ Big C ➟ 機場", target: "Suvarnabhumi+Airport", dist: "專車接送", time: "11:30 出發", desc: "Big C Rajdamri 步行即可達。11:30 專車接送前往 BKK 機場。", history: "Big C 的藍象咖哩包是目前公認最高品質的伴手禮。", humor: "行李箱如果真的爆了，Big C 旁邊就有賣行李袋。", spots: ["Big C 伴手禮", "飯店桑拿/泳池", "機場免稅店", "最後一次泰奶", "溫暖的家"] }
        };

        function renderDay(d) {
            const data = itineraryData[d];
            const content = document.getElementById('dayContent');
            // 改進導航連結，強制開啟大眾運輸模式
            const navUrl = `https://www.google.com/maps/dir/?api=1&destination=${data.target}&travelmode=transit`;

            const spotsList = data.spots.map((s, i) => `
                <div class="spot-item">
                    <div class="spot-num">${i + 1}</div><span>${s}</span>
                </div>`).join('');

            content.innerHTML = `
                <div class="animate-fadeInUp">
                    <div class="hero-info shadow">
                        <div class="d-flex justify-content-between mb-3 small opacity-75">
                            <span class="badge bg-white text-dark">DAY ${d}</span>
                            <span><i class="fas fa-train blinking"></i> TRANSIT ACTIVE</span>
                        </div>
                        <div class="row align-items-end">
                            <div class="col-7">
                                <h3 class="fw-bold mb-1">${data.title}</h3>
                                <p class="small opacity-75 mb-3">${data.eng}</p>
                                <div class="d-flex"><span class="meta-badge">${data.dist}</span><span class="meta-badge">${data.time}</span></div>
                            </div>
                            <div class="col-5">
                                <div class="spotlight-box">
                                    <div class="fw-bold mb-2" style="font-size:0.6rem; color:#DAA520;">TOP SPOTS</div>
                                    ${spotsList}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="gear-card">
                        <div class="gear-weather">
                            <i class="fas ${data.icon} mb-1" style="color: #DAA520; font-size: 1.2rem;"></i>
                            <div class="fw-bold" style="color: #434C5E;">${data.weather}</div>
                        </div>
                        <div class="gear-outfit">
                            <div class="outfit-tag">Outfit Advice</div>
                            <div class="small fw-bold" style="color: #555;">${data.outfit}</div>
                        </div>
                    </div>
                    
                    <div class="glass-card mb-3" style="background: rgba(255,255,255,0.7);">
                        <h6 class="fw-bold"><i class="fas fa-route me-2 text-primary"></i>${data.route}</h6>
                        <p class="small text-muted mb-3">${data.desc}</p>
                        <a href="${navUrl}" target="_blank" class="nav-trigger shadow-sm"><i class="fas fa-location-arrow me-2"></i>開啟 Google Map 導航</a>
                    </div>
                    
                    <div class="history-section"><h6 class="fw-bold small text-soft">旅人筆記</h6><p class="small text-soft mb-0">${data.history}</p></div>
                    <div class="humor-card"><h6 class="fw-bold small" style="color:#DAA520;">溫馨提示</h6><p class="small mb-0 italic">"${data.humor}"</p></div>
                </div>`;
            localStorage.setItem('bangkok_last_day', d);
        }

        const picker = document.getElementById('dayPicker');
        for (let i = 1; i <= 5; i++) {
            const btn = document.createElement('div');
            btn.className = `day-btn day-id-${i}`;
            btn.innerText = i;
            btn.onclick = function() {
                document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active'); renderDay(i);
                this.scrollIntoView({ behavior: 'smooth', inline: 'center' });
            };
            picker.appendChild(btn);
        }

        const savedDay = parseInt(localStorage.getItem('bangkok_last_day')) || 1;
        renderDay(savedDay);
        document.querySelector(`.day-id-${savedDay}`).classList.add('active');
    </script>
</body>
</html>
